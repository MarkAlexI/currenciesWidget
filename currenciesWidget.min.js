let n=localStorage.getItem("BASE")||"USD",e=localStorage.getItem("TSYMS")||"USD,JPY,EUR",t=localStorage.getItem("BOTTOM")||5,r=localStorage.getItem("RIGHT")||2;const i=(n,e=!1)=>`<select\n      id="${n}"\n      class="hidden"\n      ${e?'multiple=""':""}\n    />\n      <option value="">--Choose currency</option>\n      ${"UAH, EUR, USD, PLN, BTC, JPY, ETH".split(", ").map((n=>`<option value="${n}">${n}</option>`)).join("")}\n    </select>\n  `;document.body.appendChild(document.createElement("div")).innerHTML=`\n<style>\n  #currency_widget_dialog {\n    display: grid;\n    gap: 1.2rem;\n    background-color: lime;\n    z-index: 10;\n    margin-top: 10 px;\n    border-radius: 1rem;\n  }\n  #currency_widget_dialog:not([open]) {\n    pointer-events: none;\n    opacity: 0;\n  }\n  #currency_widget_dialog::backdrop {\n    background-color: hsl(250, 100%, 50%, 0.25);\n  }\n  @media (prefers-color-scheme: dark) {\n    #currency_widget_dialog {\n      background: pink;\n    }\n  }\n  .hidden {\n    display: none;\n  }\n  button[id*="btn"] {\n    height: 1.8rem;\n    border: 1px black solid;\n    border-radius: 5%;\n    background-color: lightgrey;\n    color: blue;\n    cursor: pointer;\n  }\n  #currency_widget_field {\n    position: fixed;\n    bottom: ${t}rem;\n    right: ${r}rem;\n    z-index: 10;\n    border: 1px solid black;\n  }\n  #currency_widget_settings {\n    margin: 0;\n    padding: .1rem .4rem 0 .4rem;\n    height: 1.3rem;\n    display: flex;\n    flex-direction: column;\n    row-gap: .3rem;\n    justify-content: start;\n    align-items: start;\n    background-color: lightcyan;\n    overflow: hidden;\n  }\n  #currency_widget_settings.open {\n    height: 16rem;\n  }\n  #currency_widget_settings_triangle {\n    width: 0;\n    height: 0;\n    border-left: .5rem solid transparent;\n    border-right: .5rem solid transparent;\n    border-top: 1rem solid black;\n  }\n  :is(#currency_widget_settings.open) #currency_widget_settings_triangle {\n    border-bottom: 1rem solid black;\n    border-top: 0;\n  }\n  #currency_widget_settings_move {\n    display: flex;\n    gap: .6rem;\n  }\n  button[id*="arrow"] {\n    height: 1.8rem;\n    border: 2px black solid;\n    border-radius: 10%;\n    background-color: smokewhite;\n    color: black;\n    font-weight: bold;\n    cursor: pointer;\n  }\n  #currency_widget_field table {\n    width: 9rem;\n    border-collapse: collapse;\n    border: 1 px solid black;\n    text-align: center;\n    vertical-align: middle;\n  }\n  #currency_widget_data tr:nth-child(odd) {\n    background-color: linen;\n  }\n</style>\n<dialog\n  id="currency_widget_dialog"\n>\n  <form onsubmit="submitForm(event)">\n    <input\n      id="currency_widget_input"\n      type="text"\n      placeholder="Print your API-key"\n    />\n    ${i("currency_widget_select")}\n    ${i("currency_widget_multi_select",!0)}\n    <button\n      autofocus\n      id="currency_widget_left_btn"\n      formmethod="dialog"\n      type="submit"\n    >Cancel</button>\n    <button\n      id="currency_widget_right_btn"\n      type="submit"\n    >Submit</button>\n  </form>\n</dialog>\n<div id="currency_widget_field">\n  <div id="currency_widget_settings">\n    <div id="currency_widget_settings_triangle"></div>\n    <p>Move:</p>\n      <div id="currency_widget_settings_move">\n        <button\n          id="currency_widget_settings_move_left_arrow"\n        >&larr;</button>\n        <button\n          id="currency_widget_settings_move_up_arrow"\n        >&uarr;</button>\n        <button\n          id="currency_widget_settings_move_right_arrow"\n        >&rarr;</button>\n        <button\n          id="currency_widget_settings_move_bottom_arrow"\n        >&darr;</button>\n      </div>\n    <p>Change:</p>\n    <button id="currency_widget_api_btn">\n      API-key\n    </button>\n    <button id="currency_widget_base_btn">\n      BASE currency\n    </button>\n    <button id="currency_widget_courses_btn">\n     List of currencies\n    </button>\n  </div>\n  <table>\n    <tbody id="currency_widget_data">\n      \n    </tbody>\n  </table>\n</div>\n`;const d=n=>document.getElementById(n),c=d("currency_widget_dialog"),o=d("currency_widget_input"),l=d("currency_widget_left_btn"),s=d("currency_widget_right_btn"),a=d("currency_widget_field"),_=d("currency_widget_data"),g=d("currency_widget_select"),u=d("currency_widget_multi_select"),y=d("currency_widget_settings"),m=d("currency_widget_settings_triangle"),b=d("currency_widget_settings_move_left_arrow"),p=(d("currency_widget_settings_move_up_arrow"),d("currency_widget_settings_move_right_arrow"),d("currency_widget_settings_move_bottom_arrow"),d("currency_widget_api_btn")),w=d("currency_widget_base_btn"),h=d("currency_widget_courses_btn");m.addEventListener("click",(()=>{y.classList.toggle("open")}));const v=()=>!c.open&&c.showModal(),k=()=>c.close();let f=localStorage.getItem("key");const L=(n,e)=>localStorage.setItem(n,e),S=getComputedStyle(a,null);b.addEventListener("click",(()=>{console.log(S.getPropertyValue("right")),a.style.right="3rem"}));const E=()=>w.innerHTML=`BASE currency: ${n}`;E();l.addEventListener("click",k),s.addEventListener("click",(()=>{if(o.value&&(f=o.value,o.value="",L("key",f)),g.value&&(n=g.value,L("BASE",g.value),E()),u.value){const n=document.getElementById("currency_widget_multi_select").selectedOptions,t=Array.from(n).map((({value:n})=>n)).filter((n=>"--Choose currency"!==n));e=t.join(","),L("TSYMS",e)}k(),x()})),p.addEventListener("click",(()=>{v(),o.classList.remove("hidden"),g.classList.add("hidden"),u.classList.add("hidden")})),w.addEventListener("click",(()=>{v(),o.classList.add("hidden"),u.classList.add("hidden"),g.classList.remove("hidden")})),h.addEventListener("click",(()=>{v(),o.classList.add("hidden"),u.classList.remove("hidden"),g.classList.add("hidden")}));const $=n=>{let e="";Object.keys(n).map((t=>{e+=`\n        <tr>\n          <td>${t}</td>\n          <td>${(1/n[t]).toFixed(3)}</td>\n        </tr>\n      `})),_.innerHTML=e},x=()=>{fetch(`https://min-api.cryptocompare.com/data/price?fsym=${n}&tsyms=${e}&api_key={${f}}`,{credentials:"omit"}).then((n=>n.json())).then($).catch((n=>{console.log(n)}))};f?.length>0?x():v();