let n=localStorage.getItem("BASE")||"USD",e=localStorage.getItem("TSYMS")||"USD,JPY,EUR";const t=(n,e=!1)=>`<select\n      id="${n}"\n      class="hidden"\n      ${e?'multiple=""':""}\n    />\n      <option value="">--Choose currency</option>\n      ${"UAH, EUR, USD, PLN, BTC, JPY, ETH".split(", ").map((n=>`<option value="${n}">${n}</option>`)).join("")}\n    </select>\n  `;document.body.appendChild(document.createElement("div")).innerHTML=`\n<style>\n  #currency_widget_dialog {\n    display: grid;\n    gap: 1.2rem;\n    background-color: lime;\n    z-index: 10;\n    margin-top: 10 px;\n    border-radius: 1rem;\n  }\n  #currency_widget_dialog:not([open]) {\n    pointer-events: none;\n    opacity: 0;\n  }\n  #currency_widget_dialog::backdrop {\n    background-color: hsl(250, 100%, 50%, 0.25);\n  }\n  @media (prefers-color-scheme: dark) {\n    #currency_widget_dialog {\n      background: pink;\n    }\n  }\n  .hidden {\n    display: none;\n  }\n  button[id*="btn"] {\n    height: 1.8rem;\n    border: 1px black solid;\n    border-radius: 5%;\n    background-color: lightgrey;\n    color: blue;\n  }\n  #currency_widget_field {\n    position: fixed;\n    bottom: 5rem;\n    right: 2rem;\n    z-index: 10;\n    border: 1px solid black;\n  }\n  #currency_widget_settings {\n    margin: 0;\n    padding: .1rem .4rem 0 .4rem;\n    height: 1.3rem;\n    display: flex;\n    flex-direction: column;\n    row-gap: .3rem;\n    justify-content: start;\n    align-items: start;\n    background-color: lightcyan;\n    overflow: hidden;\n  }\n  #currency_widget_settings.open {\n    height: 16rem;\n  }\n  #currency_widget_settings_triangle {\n    width: 0;\n    height: 0;\n    border-left: .5rem solid transparent;\n    border-right: .5rem solid transparent;\n    border-top: 1rem solid black;\n  }\n  :is(#currency_widget_settings.open) #currency_widget_settings_triangle {\n    border-bottom: 1rem solid black;\n    border-top: 0;\n  }\n  #currency_widget_settings_move {\n    display: flex;\n    gap: .6rem;\n  }\n  button[id*="arrow"] {\n    height: 1.8rem;\n    border: 2px black solid;\n    border-radius: 10%;\n    background-color: smokewhite;\n    color: black;\n    font-weight: bold;\n  }\n  #currency_widget_field table {\n    width: 9rem;\n    border-collapse: collapse;\n    border: 1 px solid black;\n    text-align: center;\n    vertical-align: middle;\n  }\n  #currency_widget_data tr:nth-child(odd) {\n    background-color: linen;\n  }\n</style>\n<dialog\n  id="currency_widget_dialog"\n>\n  <form onsubmit="submitForm(event)">\n    <input\n      id="currency_widget_input"\n      type="text"\n      placeholder="Print your API-key"\n    />\n    ${t("currency_widget_select")}\n    ${t("currency_widget_multi_select",!0)}\n    <button\n      autofocus\n      id="currency_widget_left_btn"\n      formmethod="dialog"\n      type="submit"\n    >Cancel</button>\n    <button\n      id="currency_widget_right_btn"\n      type="submit"\n    >Submit</button>\n  </form>\n</dialog>\n<div id="currency_widget_field">\n  <div id="currency_widget_settings">\n    <div id="currency_widget_settings_triangle"></div>\n    <p>Move:</p>\n      <div id="currency_widget_settings_move">\n        <button\n          id="currency_widget_settings_move_left_arrow"\n        >&larr;</button>\n        <button\n          id="currency_widget_settings_move_up_arrow"\n        >&uarr;</button>\n        <button\n          id="currency_widget_settings_move_right_arrow"\n        >&rarr;</button>\n        <button\n          id="currency_widget_settings_move_bottom_arrow"\n        >&darr;</button>\n      </div>\n    <p>Change:</p>\n    <button id="currency_widget_api_btn">\n      API-key\n    </button>\n    <button id="currency_widget_base_btn">\n      BASE currency\n    </button>\n    <button id="currency_widget_courses_btn">\n     List of currencies\n    </button>\n  </div>\n  <table>\n    <tbody id="currency_widget_data">\n      \n    </tbody>\n  </table>\n</div>\n`;const r=n=>document.getElementById(n),i=r("currency_widget_dialog"),d=r("currency_widget_input"),c=r("currency_widget_left_btn"),o=r("currency_widget_right_btn"),l=(r("currency_widget_field"),r("currency_widget_data")),s=r("currency_widget_select"),a=r("currency_widget_multi_select"),_=r("currency_widget_settings"),g=r("currency_widget_settings_triangle"),u=r("currency_widget_api_btn"),b=r("currency_widget_base_btn"),y=r("currency_widget_courses_btn");g.addEventListener("click",(()=>{_.classList.toggle("open")}));const m=()=>!i.open&&i.showModal(),p=()=>i.close();let w=localStorage.getItem("key");const h=(n,e)=>localStorage.setItem(n,e),v=()=>b.innerHTML=`BASE currency: ${n}`;v();c.addEventListener("click",p),o.addEventListener("click",(()=>{if(d.value&&(w=d.value,d.value="",h("key",w)),s.value&&(n=s.value,h("BASE",s.value),v()),a.value){const n=document.getElementById("currency_widget_multi_select").selectedOptions,t=Array.from(n).map((({value:n})=>n)).filter((n=>"--Choose currency"!==n));e=t.join(","),h("TSYMS",e)}p(),f()})),u.addEventListener("click",(()=>{m(),d.classList.remove("hidden"),s.classList.add("hidden"),a.classList.add("hidden")})),b.addEventListener("click",(()=>{m(),d.classList.add("hidden"),a.classList.add("hidden"),s.classList.remove("hidden")})),y.addEventListener("click",(()=>{m(),d.classList.add("hidden"),a.classList.remove("hidden"),s.classList.add("hidden")}));const k=n=>{let e="";Object.keys(n).map((t=>{e+=`\n        <tr>\n          <td>${t}</td>\n          <td>${(1/n[t]).toFixed(3)}</td>\n        </tr>\n      `})),l.innerHTML=e},f=()=>{fetch(`https://min-api.cryptocompare.com/data/price?fsym=${n}&tsyms=${e}&api_key={${w}}`,{credentials:"omit"}).then((n=>n.json())).then(k).catch((n=>{console.log(n)}))};w?.length>0?f():m();